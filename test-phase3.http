# Phase 4 API Tests - ConsignmentGenie
# Note: Many endpoints require authentication, so you'll need to login first and use the Bearer token
# ‚úÖ QuickBooks credentials are now live: ClientId=AB0Kc0Lux3bX7tWfpy8bNSqmqqQ3VvrP6kG4qProeQdRG
# ‚úÖ Stripe credentials are now live: pk_test_51SVOTxL5W1M01qnRB5U2Mlap1SXzSezMiKDpEFZBEf2UJwBNzznIItzjWKuNe7kwcLORSQAwRNVpcB6ouw14itLg00zZ4y5T4U
# ‚úÖ Cloudinary photo storage configured: dtetjk79w (switchable to Azure via config)
# üìù To switch storage: Change PhotoStorage:Provider to "azure" or "cloudinary"
# üéØ Payment Gateway Abstraction Layer implemented - supports Stripe, Square, QuickBooks, Clover, Shopify
# üéØ QuickBooks Accounting Abstraction Layer implemented - unified accounting interface
# üìä PaymentGatewayConnection table created for multi-provider support

# üöÄ PHASE 4 FEATURES IMPLEMENTED:
# ‚ú® Advanced Inventory Management - Categories, tags, enhanced item properties, stock tracking
# ‚ú® Notification System - Real-time alerts, email/SMS notifications, user targeting
# ‚ú® Audit Logging - Complete activity tracking, compliance features, risk assessment
# ‚ú® Enhanced Item Properties - Brand, model, size, color, condition, dimensions, weight
# üìã Database: Added ItemCategories, ItemTags, ItemTagAssignments, AuditLogs, Notifications tables

### Health Check
GET http://localhost:5000/health

### Swagger UI
# Visit http://localhost:5000/swagger in browser

### Analytics Endpoints (require Pro tier)
# GET http://localhost:5000/api/analytics/revenue?startDate=2024-01-01&endDate=2024-12-31
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/analytics/provider-performance?startDate=2024-01-01&endDate=2024-12-31
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/analytics/inventory
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/analytics/trends?startDate=2024-01-01&endDate=2024-12-31
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/analytics/export?format=csv&startDate=2024-01-01&endDate=2024-12-31
# Authorization: Bearer YOUR_TOKEN_HERE

### Mobile Endpoints (require auth)
# GET http://localhost:5000/api/mobile/dashboard
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/mobile/quick-sale
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/mobile/recent-sales?limit=5
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/mobile/barcode-lookup/12345
# Authorization: Bearer YOUR_TOKEN_HERE

### QuickBooks Endpoints (require Pro tier)
# GET http://localhost:5000/api/quickbooks/status
# Authorization: Bearer YOUR_TOKEN_HERE

# GET http://localhost:5000/api/quickbooks/auth-url
# Authorization: Bearer YOUR_TOKEN_HERE

### Stripe Subscription Endpoints (now with live keys)
# GET http://localhost:5000/api/subscription/status
# Authorization: Bearer YOUR_TOKEN_HERE

# POST http://localhost:5000/api/subscription/create
# Authorization: Bearer YOUR_TOKEN_HERE
# Content-Type: application/json
#
# {
#   "priceId": "price_pro_129",
#   "tier": "Pro"
# }

### Provider Portal Endpoints (no auth required)
# POST http://localhost:5000/api/provider-portal/login
# Content-Type: application/json
#
# {
#   "email": "provider@example.com",
#   "inviteCode": "INVITE123"
# }

# POST http://localhost:5000/api/provider-portal/setup
# Content-Type: application/json
#
# {
#   "email": "provider@example.com",
#   "inviteCode": "INVITE123",
#   "password": "StrongPassword123!"
# }

### To get auth token, first register/login as shop owner
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "email": "test@shop.com",
  "password": "Password123!",
  "organizationName": "Test Shop"
}

### Then login
POST http://localhost:5000/api/auth/login
Content-Type: application/json

{
  "email": "test@shop.com",
  "password": "Password123!"
}

### Phase 4: Item Categories Management
# GET http://localhost:5000/api/itemcategories
# Authorization: Bearer YOUR_TOKEN_HERE

# POST http://localhost:5000/api/itemcategories
# Authorization: Bearer YOUR_TOKEN_HERE
# Content-Type: application/json
#
# {
#   "name": "Electronics",
#   "description": "Electronic devices and accessories",
#   "color": "#007bff",
#   "sortOrder": 1,
#   "defaultCommissionRate": 40.0
# }

### Phase 4: Advanced Item Properties
# Items now support enhanced properties: Brand, Model, Size, Color, Condition
# Weight/Dimensions, Quantity tracking, CategoryId, SearchKeywords

### Phase 4: Audit Logging
# All user actions are automatically logged in AuditLogs table
# Tracks: Action, EntityType, EntityId, OldValues, NewValues, IpAddress, UserAgent, RiskLevel

### Phase 4: Notification System
# Real-time notifications for: Low stock, Payment failures, Payouts ready, Items sold
# Email/SMS delivery tracking, Priority levels, Expiration dates

### Phase 4: Enhanced Search & Filtering (Coming Soon)
# Full-text search across items using SearchKeywords field
# Advanced filters by category, brand, condition, price range, stock levels